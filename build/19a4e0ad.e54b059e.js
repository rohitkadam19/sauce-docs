(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{222:function(e,t,a){"use strict";a.r(t),a.d(t,"MDXContext",(function(){return c})),a.d(t,"MDXProvider",(function(){return p})),a.d(t,"mdx",(function(){return O})),a.d(t,"useMDXComponents",(function(){return m})),a.d(t,"withMDXComponents",(function(){return u}));var n=a(0),r=a.n(n);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var c=r.a.createContext({}),u=function(e){return function(t){var a=m(t.components);return r.a.createElement(e,i({},t,{components:a}))}},m=function(e){var t=r.a.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},p=function(e){var t=m(e.components);return r.a.createElement(c.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},f=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,i=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),c=m(a),u=n,p=c["".concat(i,".").concat(u)]||c[u]||b[u]||o;return a?r.a.createElement(p,s(s({ref:t},d),{},{components:a})):r.a.createElement(p,s({ref:t},d))}));function O(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=f;var d={};for(var s in t)hasOwnProperty.call(t,s)&&(d[s]=t[s]);d.originalType=e,d.mdxType="string"==typeof e?e:n,i[1]=d;for(var l=2;l<o;l++)i[l]=a[l];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,a)}f.displayName="MDXCreateElement"},58:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return i})),a.d(t,"metadata",(function(){return d})),a.d(t,"toc",(function(){return s})),a.d(t,"Highlight",(function(){return l})),a.d(t,"default",(function(){return u}));var n=a(3),r=a(8),o=(a(0),a(222)),i={id:"virtual-devices",title:"Virtual Device Testing with Espresso",sidebar_label:"Virtual Devices"},d={unversionedId:"mobile-apps/automated-testing/espresso-xcuitest/virtual-devices",id:"mobile-apps/automated-testing/espresso-xcuitest/virtual-devices",isDocsHomePage:!1,title:"Virtual Device Testing with Espresso",description:"backgroundColor: color,",source:"@site/docs/mobile-apps/automated-testing/espresso-xcuitest/virtual-devices.md",slug:"/mobile-apps/automated-testing/espresso-xcuitest/virtual-devices",permalink:"/mobile-apps/automated-testing/espresso-xcuitest/virtual-devices",editUrl:"https://github.com/saucelabs/sauce-docs/edit/master/docs/mobile-apps/automated-testing/espresso-xcuitest/virtual-devices.md",version:"current",lastUpdatedBy:"Kim",lastUpdatedAt:1613282298,sidebar_label:"Virtual Devices",sidebar:"someSidebar",previous:{title:"Real Device Testing with Espresso and XCUITest",permalink:"/mobile-apps/automated-testing/espresso-xcuitest/real-devices"},next:{title:"Microsoft App Center Integration",permalink:"/mobile-apps/automated-testing/microsoft-app-center"}},s=[{value:"System Requirements",id:"system-requirements",children:[{value:"Supported Espresso Package Versions",id:"supported-espresso-package-versions",children:[]}]},{value:"Download",id:"download",children:[]},{value:"Installation",id:"installation",children:[]},{value:"Setup and Configuration",id:"setup-and-configuration",children:[]},{value:"Android Emulator Settings",id:"android-emulator-settings",children:[{value:"Exit Status Codes",id:"exit-status-codes",children:[]}]},{value:"Troubleshooting",id:"troubleshooting",children:[]},{value:"Additional Resources",id:"additional-resources",children:[]}],l=function(e){var t=e.children,a=e.color;return Object(o.mdx)("span",{style:{backgroundColor:a,borderRadius:"2px",color:"#fff",padding:"0.2rem"}},t)},c={toc:s,Highlight:l};function u(e){var t=e.components,a=Object(r.default)(e,["components"]);return Object(o.mdx)("wrapper",Object(n.default)({},c,a,{components:t,mdxType:"MDXLayout"}),Object(o.mdx)("p",null," ",Object(o.mdx)(l,{color:"#eb7734",mdxType:"Highlight"},"BETA")," "),Object(o.mdx)("p",null,"Sauce Labs offers the ability to run tests on our virtual device cloud emulators using popular native frameworks such as Espresso, a native testing framework for running user interface tests on Android devices. At this time, XCUITest is not supported."),Object(o.mdx)("p",null,"To get started, you'll need to download Sauce Runner for Virtual Devices to your local machine, then launch it from your command line using the ",Object(o.mdx)("a",Object(n.default)({parentName:"p"},{href:"/dev/cli/espresso-xcuitest"}),"required and optional parameters"),"."),Object(o.mdx)("h2",{id:"system-requirements"},"System Requirements"),Object(o.mdx)("ul",null,Object(o.mdx)("li",{parentName:"ul"},"You must have network connectivity to saucelabs.com on ",Object(o.mdx)("inlineCode",{parentName:"li"},"port 443")),Object(o.mdx)("li",{parentName:"ul"},"Your local machine must have 4GB of free RAM"),Object(o.mdx)("li",{parentName:"ul"},"You must have a 64-bit operating system, running Windows 7+, Mac OS X 10.11+, or Linux")),Object(o.mdx)("h3",{id:"supported-espresso-package-versions"},"Supported Espresso Package Versions"),Object(o.mdx)("table",null,Object(o.mdx)("thead",{parentName:"table"},Object(o.mdx)("tr",{parentName:"thead"},Object(o.mdx)("th",Object(n.default)({parentName:"tr"},{align:"left"}),"Package"),Object(o.mdx)("th",Object(n.default)({parentName:"tr"},{align:"left"}),"Minimum Version"))),Object(o.mdx)("tbody",{parentName:"table"},Object(o.mdx)("tr",{parentName:"tbody"},Object(o.mdx)("td",Object(n.default)({parentName:"tr"},{align:"left"}),"com.android.support.test.espresso:espresso-core"),Object(o.mdx)("td",Object(n.default)({parentName:"tr"},{align:"left"}),"3.0.2")),Object(o.mdx)("tr",{parentName:"tbody"},Object(o.mdx)("td",Object(n.default)({parentName:"tr"},{align:"left"}),"com.android.support.test.espresso:espresso-web"),Object(o.mdx)("td",Object(n.default)({parentName:"tr"},{align:"left"}),"3.0.2")),Object(o.mdx)("tr",{parentName:"tbody"},Object(o.mdx)("td",Object(n.default)({parentName:"tr"},{align:"left"}),"com.android.support.test:runner"),Object(o.mdx)("td",Object(n.default)({parentName:"tr"},{align:"left"}),"1.0.2")),Object(o.mdx)("tr",{parentName:"tbody"},Object(o.mdx)("td",Object(n.default)({parentName:"tr"},{align:"left"}),"com.android.support.test:rules"),Object(o.mdx)("td",Object(n.default)({parentName:"tr"},{align:"left"}),"1.0.2")),Object(o.mdx)("tr",{parentName:"tbody"},Object(o.mdx)("td",Object(n.default)({parentName:"tr"},{align:"left"}),"junit:junit"),Object(o.mdx)("td",Object(n.default)({parentName:"tr"},{align:"left"}),"4.12")))),Object(o.mdx)("h2",{id:"download"},"Download"),Object(o.mdx)("p",null,"Download a Sauce Runner for Virtual Devices package below."),Object(o.mdx)("table",null,Object(o.mdx)("thead",{parentName:"table"},Object(o.mdx)("tr",{parentName:"thead"},Object(o.mdx)("th",Object(n.default)({parentName:"tr"},{align:"left"}),"Download Link"),Object(o.mdx)("th",Object(n.default)({parentName:"tr"},{align:"left"}),"SHA1 Checksum"))),Object(o.mdx)("tbody",{parentName:"table"},Object(o.mdx)("tr",{parentName:"tbody"},Object(o.mdx)("td",Object(n.default)({parentName:"tr"},{align:"left"}),Object(o.mdx)("a",Object(n.default)({parentName:"td"},{href:"https://saucelabs.com/downloads/sauce-runner-virtual-0.1.2-osx.zip"}),"Mac OS X 10.11+")),Object(o.mdx)("td",Object(n.default)({parentName:"tr"},{align:"left"}),"0cfc478d0649968d494441c1bfe71b77d13e7fd8")),Object(o.mdx)("tr",{parentName:"tbody"},Object(o.mdx)("td",Object(n.default)({parentName:"tr"},{align:"left"}),Object(o.mdx)("a",Object(n.default)({parentName:"td"},{href:"https://saucelabs.com/downloads/sauce-runner-virtual-0.1.2-windows.zip"}),"Windows 7+ 64-bit")),Object(o.mdx)("td",Object(n.default)({parentName:"tr"},{align:"left"}),"aece75d0bc5fb68eba45e3c2f0cfdb381933ae78")),Object(o.mdx)("tr",{parentName:"tbody"},Object(o.mdx)("td",Object(n.default)({parentName:"tr"},{align:"left"}),Object(o.mdx)("a",Object(n.default)({parentName:"td"},{href:"https://saucelabs.com/downloads/sauce-runner-virtual-0.1.2-linux.zip"}),"Linux 64-bit")),Object(o.mdx)("td",Object(n.default)({parentName:"tr"},{align:"left"}),"18bc0a7573ff8182b6f01d2e09353d0b75efa9dd")))),Object(o.mdx)("h2",{id:"installation"},"Installation"),Object(o.mdx)("ol",null,Object(o.mdx)("li",{parentName:"ol"},"Unzip the download package contents to any folder on your system."),Object(o.mdx)("li",{parentName:"ol"},"Go to the ",Object(o.mdx)("inlineCode",{parentName:"li"},"sauce-runner-virtual")," application. which will be in the ",Object(o.mdx)("inlineCode",{parentName:"li"},"bin")," folder."),Object(o.mdx)("li",{parentName:"ol"},"In a console or terminal window, navigate to and run the application."),Object(o.mdx)("li",{parentName:"ol"},"Check out ",Object(o.mdx)("a",Object(n.default)({parentName:"li"},{href:"https://wiki.saucelabs.com/pages/viewpage.action?pageId=72746736"}),"Command Reference for Sauce Runner for Virtual Devices")," for more information on using Sauce Runner for Virtual Devices.")),Object(o.mdx)("h2",{id:"setup-and-configuration"},"Setup and Configuration"),Object(o.mdx)("p",null,"The ",Object(o.mdx)("a",Object(n.default)({parentName:"p"},{href:"https://wiki.saucelabs.com/pages/viewpage.action?pageId=72746736"}),"Command Reference for Sauce Runner for Virtual Devices")," contains a list of the options you can use to configure Sauce Runner to run tests with Espresso."),Object(o.mdx)("h2",{id:"android-emulator-settings"},"Android Emulator Settings"),Object(o.mdx)("p",null,"Following ",Object(o.mdx)("a",Object(n.default)({parentName:"p"},{href:"https://developer.android.com/training/testing/espresso/setup"}),"Google's recommendation to avoid flakey tests"),", we disable system animations on emulators during Espresso tests. Specifically the following three system animations are disabled:"),Object(o.mdx)("ul",null,Object(o.mdx)("li",{parentName:"ul"},"Window animation scale"),Object(o.mdx)("li",{parentName:"ul"},"Transition animation scale"),Object(o.mdx)("li",{parentName:"ul"},"Animator duration scale")),Object(o.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.mdx)("div",Object(n.default)({parentName:"div"},{className:"admonition-heading"}),Object(o.mdx)("h5",{parentName:"div"},Object(o.mdx)("span",Object(n.default)({parentName:"h5"},{className:"admonition-icon"}),Object(o.mdx)("svg",Object(n.default)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.mdx)("path",Object(n.default)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"Three-Hour Test Limit")),Object(o.mdx)("div",Object(n.default)({parentName:"div"},{className:"admonition-content"}),Object(o.mdx)("p",{parentName:"div"},"Recommended maximum execution time for Espresso jobs is one hour, however, the emulators are capable of running Espresso jobs for three hours, and are shutdown after three hours."))),Object(o.mdx)("h3",{id:"exit-status-codes"},"Exit Status Codes"),Object(o.mdx)("p",null,"Sauce Runner for Virtual Devices returns the following status codes based on test execution results:"),Object(o.mdx)("table",null,Object(o.mdx)("thead",{parentName:"table"},Object(o.mdx)("tr",{parentName:"thead"},Object(o.mdx)("th",Object(n.default)({parentName:"tr"},{align:"left"}),"Status Code"),Object(o.mdx)("th",Object(n.default)({parentName:"tr"},{align:"left"}),"Description"))),Object(o.mdx)("tbody",{parentName:"table"},Object(o.mdx)("tr",{parentName:"tbody"},Object(o.mdx)("td",Object(n.default)({parentName:"tr"},{align:"left"}),"0"),Object(o.mdx)("td",Object(n.default)({parentName:"tr"},{align:"left"}),"All the tests passed on all devices.")),Object(o.mdx)("tr",{parentName:"tbody"},Object(o.mdx)("td",Object(n.default)({parentName:"tr"},{align:"left"}),"1"),Object(o.mdx)("td",Object(n.default)({parentName:"tr"},{align:"left"}),"This status code can mean multiple things, it is important to refer to the logs to identify the problem: ",Object(o.mdx)("ul",null,Object(o.mdx)("li",null,"One or more tests failed during execution"),Object(o.mdx)("li",null,"User error like an invalid path to test files or invalid arguments"),Object(o.mdx)("li",null,"Sauce Labs infrastructure error while executing the test")))))),Object(o.mdx)("h2",{id:"troubleshooting"},"Troubleshooting"),Object(o.mdx)("p",null,'When testing on Sauce emulators, one error to look out for is Espresso test suites running as expected on one Android version, but failing on another version (e.g., "Internal Server Error").'),Object(o.mdx)("p",null,Object(o.mdx)("strong",{parentName:"p"},"Potential Cause"),": Application under test requires a minimum Android version or above."),Object(o.mdx)("p",null,Object(o.mdx)("strong",{parentName:"p"},"Recommendation"),": Check the ",Object(o.mdx)("inlineCode",{parentName:"p"},"minSdkVersion")," in ",Object(o.mdx)("inlineCode",{parentName:"p"},"build.gradle")," for your application project."),Object(o.mdx)("h2",{id:"additional-resources"},"Additional Resources"),Object(o.mdx)("ul",null,Object(o.mdx)("li",{parentName:"ul"},Object(o.mdx)("a",Object(n.default)({parentName:"li"},{href:"https://github.com/saucelabs-training/demo-espresso/tree/master/emulators"}),"Sauce Labs GitHub repository | Espresso for Real Devices"))),Object(o.mdx)("p",null,"At this time, XCUITest is not supported on Sauce Labs virtual devices."))}u.isMDXComponent=!0}}]);