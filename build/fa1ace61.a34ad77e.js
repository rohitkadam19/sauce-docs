(window.webpackJsonp=window.webpackJsonp||[]).push([[123],{159:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return a})),n.d(t,"metadata",(function(){return o})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return d}));var s=n(3),r=n(8),i=(n(0),n(222)),a={id:"avoiding-dependencies-parallel-tests",title:"Avoiding Dependencies in Parallel Tests",sidebar_label:"Avoiding Dependencies in Parallel Tests"},o={unversionedId:"basics/best-practices/avoiding-dependencies-parallel-tests",id:"basics/best-practices/avoiding-dependencies-parallel-tests",isDocsHomePage:!1,title:"Avoiding Dependencies in Parallel Tests",description:"Dependencies between tests prevent tests from being able to run in parallel. And running tests in parallel is by far the best way to speed up the execution of your entire test suite. It's much easier to add a virtual machine than to try to figure out how to squeeze out another second of performance from a single test.",source:"@site/docs/basics/best-practices/avoiding-dependencies-parallel-tests.md",slug:"/basics/best-practices/avoiding-dependencies-parallel-tests",permalink:"/basics/best-practices/avoiding-dependencies-parallel-tests",editUrl:"https://github.com/saucelabs/sauce-docs/edit/master/docs/basics/best-practices/avoiding-dependencies-parallel-tests.md",version:"current",lastUpdatedBy:"Laura Thomas",lastUpdatedAt:1609875886,sidebar_label:"Avoiding Dependencies in Parallel Tests"},c=[{value:"Example: Test Dependencies in Java",id:"example-test-dependencies-in-java",children:[]},{value:"Example: Test Dependencies in PHP",id:"example-test-dependencies-in-php",children:[]},{value:"Example: Corrected Test Dependencies in Java",id:"example-corrected-test-dependencies-in-java",children:[]},{value:"Example: Corrected Test Dependencies in PHP",id:"example-corrected-test-dependencies-in-php",children:[]}],l={toc:c};function d(e){var t=e.components,n=Object(r.default)(e,["components"]);return Object(i.mdx)("wrapper",Object(s.default)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(i.mdx)("p",null,"Dependencies between tests prevent tests from being able to run in parallel. And running tests in parallel is by far the best way to speed up the execution of your entire test suite. It's much easier to add a virtual machine than to try to figure out how to squeeze out another second of performance from a single test."),Object(i.mdx)("p",null,"Imagine a test suite with two tests:"),Object(i.mdx)("h3",{id:"example-test-dependencies-in-java"},"Example: Test Dependencies in Java"),Object(i.mdx)("pre",null,Object(i.mdx)("code",Object(s.default)({parentName:"pre"},{className:"language-js"}),'@Test\npublic void testLogin()\n{\n    // do some stuff to trigger a login\n    assertEquals("My Logged In Page", driver.getTitle());\n}\n\n@Test\npublic void testUserOnlyFunctionality()\n{\n    driver.findElement(By.id("userOnlyButton")).click();\n    assertEquals("Result of clicking userOnlyButton", driver.findElement(By.id("some_result")));\n}\n')),Object(i.mdx)("h3",{id:"example-test-dependencies-in-php"},"Example: Test Dependencies in PHP"),Object(i.mdx)("pre",null,Object(i.mdx)("code",Object(s.default)({parentName:"pre"},{className:"language-js"}),'<?php\nfunction testLogin()\n{\n    // do some stuff to trigger a login\n    $this->assertEquals("My Logged In Page", $this->title());\n}\n\nfunction testUserOnlyFunctionality()\n{\n    $this->byId(\'userOnlyButton\')->click();\n    $this->assertTextPresent("Result of clicking userOnlyButton");\n}\n')),Object(i.mdx)("p",null,"In both of these examples, ",Object(i.mdx)("strong",{parentName:"p"},"testLogin()")," triggers the browser to log in and asserts that the login was successful. The second test clicks a button on the logged-in page and asserts that a certain result occurred."),Object(i.mdx)("p",null,"This test suite works fine as long as the tests run in order. But the second test makes an assumption that you are already logged in, which creates a dependency on the first test. If these tests run at the same time, or if the second one runs before the first one, the browser's cookies will not yet allow Selenium to access the logged-in page, and the second test fails. You can get rid of this dependency by making sure that each test can run independently independently of the others, as shown in the following examples."),Object(i.mdx)("h3",{id:"example-corrected-test-dependencies-in-java"},"Example: Corrected Test Dependencies in Java"),Object(i.mdx)("pre",null,Object(i.mdx)("code",Object(s.default)({parentName:"pre"},{className:"language-js"}),'public void doLogin()\n{\n    //do some stuff to trigger a login\n    assertEquals("My Logged In Page", driver.getTitle());\n}\n\n@Test\npublic void testLogin()\n{\n    this.doLogin();\n}\n\n@Test\npublic void testUserOnlyFunctionality()\n{\n    this.doLogin();\n    driver.findElement(By.id("userOnlyButton")).click();\n    assertEquals("Result of clicking userOnlyButton", driver.findElement(By.id("some_result")));\n}\n')),Object(i.mdx)("h3",{id:"example-corrected-test-dependencies-in-php"},"Example: Corrected Test Dependencies in PHP"),Object(i.mdx)("pre",null,Object(i.mdx)("code",Object(s.default)({parentName:"pre"},{className:"language-js"}),'<?php\nfunction doLogin()\n{\n    // do some stuff to trigger a login\n    $this->assertEquals("My Logged In Page", $this->title());\n}\n\nfunction testLogin()\n{\n    $this->doLogin();\n}\n\nfunction testUserOnlyFunctionality()\n{\n    $this->doLogin();\n    $this->byId(\'userOnlyButton\')->click();\n    $this->assertTextPresent("Result of clicking userOnlyButton");\n}\n')),Object(i.mdx)("p",null,"It is dangerous to assume any state when developing tests for your app. Instead, you should find ways to quickly generate desired states for individual tests. In the example, this is accomplished with the ",Object(i.mdx)("strong",{parentName:"p"},"doLogin()")," function, which generates a logged-in state instead of assuming it. You might even want to develop an API for the development and test versions of your app that provides URL shortcuts that generate common states (for example, a URL that's only available in test that creates a random user account and logs it in automatically)."))}d.isMDXComponent=!0},222:function(e,t,n){"use strict";n.r(t),n.d(t,"MDXContext",(function(){return d})),n.d(t,"MDXProvider",(function(){return m})),n.d(t,"mdx",(function(){return h})),n.d(t,"useMDXComponents",(function(){return p})),n.d(t,"withMDXComponents",(function(){return u}));var s=n(0),r=n.n(s);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n,s,r={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=r.a.createContext({}),u=function(e){return function(t){var n=p(t.components);return r.a.createElement(e,a({},t,{components:n}))}},p=function(e){var t=r.a.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},m=function(e){var t=p(e.components);return r.a.createElement(d.Provider,{value:t},e.children)},g={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},f=r.a.forwardRef((function(e,t){var n=e.components,s=e.mdxType,i=e.originalType,a=e.parentName,o=l(e,["components","mdxType","originalType","parentName"]),d=p(n),u=s,m=d["".concat(a,".").concat(u)]||d[u]||g[u]||i;return n?r.a.createElement(m,c(c({ref:t},o),{},{components:n})):r.a.createElement(m,c({ref:t},o))}));function h(e,t){var n=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var i=n.length,a=new Array(i);a[0]=f;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o.mdxType="string"==typeof e?e:s,a[1]=o;for(var l=2;l<i;l++)a[l]=n[l];return r.a.createElement.apply(null,a)}return r.a.createElement.apply(null,n)}f.displayName="MDXCreateElement"}}]);