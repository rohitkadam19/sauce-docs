(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{133:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return u})),n.d(t,"metadata",(function(){return d})),n.d(t,"toc",(function(){return f})),n.d(t,"default",(function(){return p}));var r=n(3),a=n(8),o=(n(0),n(222)),i=(n(223),n(228)),l=n.n(i),s=n(229),c=n.n(s),u={id:"downloading-files-vm-before-testing",title:"Downloading Files to a Virtual Machine Before Testing",sidebar_label:"Downloading Files to a Virtual Machine Before Testing"},d={unversionedId:"basics/best-practices/downloading-files-vm-before-testing",id:"basics/best-practices/downloading-files-vm-before-testing",isDocsHomePage:!1,title:"Downloading Files to a Virtual Machine Before Testing",description:"You can use a pre-run executable script to download files from a public location to the Sauce Labs virtual machine running your tests. This topic contains example scripts for downloading remote files on different operating systems, and details configuring the prerun capability in your tests.",source:"@site/docs/basics/best-practices/downloading-files-vm-before-testing.md",slug:"/basics/best-practices/downloading-files-vm-before-testing",permalink:"/basics/best-practices/downloading-files-vm-before-testing",editUrl:"https://github.com/saucelabs/sauce-docs/edit/master/docs/basics/best-practices/downloading-files-vm-before-testing.md",version:"current",lastUpdatedBy:"Laura Thomas",lastUpdatedAt:1609887486,sidebar_label:"Downloading Files to a Virtual Machine Before Testing"},f=[{value:"OS X 10.6, 10.8, 10.9, 10.10",id:"os-x-106-108-109-1010",children:[]},{value:"Windows 7, 8, 8.1",id:"windows-7-8-81",children:[]},{value:"Windows XP",id:"windows-xp",children:[]},{value:"Linux",id:"linux",children:[]},{value:"Set Prerun Capability",id:"set-prerun-capability",children:[]}],b={toc:f};function p(e){var t=e.components,n=Object(a.default)(e,["components"]);return Object(o.mdx)("wrapper",Object(r.default)({},b,n,{components:t,mdxType:"MDXLayout"}),Object(o.mdx)("p",null,"You can use a pre-run executable script to download files from a public location to the Sauce Labs virtual machine running your tests. This topic contains example scripts for downloading remote files on different operating systems, and details configuring the prerun capability in your tests."),Object(o.mdx)(l.a,{defaultValue:"macos",values:[{label:"macOS",value:"macos"},{label:"Windows 7, 8, 8.1",value:"windows"},{label:"Windows XP",value:"windowsxp"},{label:"Linux",value:"linux"}],mdxType:"Tabs"},Object(o.mdx)(c.a,{value:"macos",mdxType:"TabItem"},Object(o.mdx)("h3",{id:"os-x-106-108-109-1010"},"OS X 10.6, 10.8, 10.9, 10.10"),Object(o.mdx)("p",null,"This shell script will fetch the file at the URL and save it to ",Object(o.mdx)("strong",{parentName:"p"},"/tmp/file.txt"),"."),Object(o.mdx)("pre",null,Object(o.mdx)("code",Object(r.default)({parentName:"pre"},{className:"language-js"}),"#!/bin/bash\ncurl -o /tmp/file.txt http://mywebsite.com/file.txt\n"))),Object(o.mdx)(c.a,{value:"windows",mdxType:"TabItem"},Object(o.mdx)("h3",{id:"windows-7-8-81"},"Windows 7, 8, 8.1"),Object(o.mdx)("p",null,"This batch file accomplishes the same thing as the OS X curl method, but using ",Object(o.mdx)("strong",{parentName:"p"},"bitsadmin.exe")," since Windows doesn't ship with curl."),Object(o.mdx)("pre",null,Object(o.mdx)("code",Object(r.default)({parentName:"pre"},{className:"language-js"}),'@echo off\nbitsadmin.exe /transfer "JobName" http://mywebsite.com/file.txt C:\\Users\\Administrator\\Desktop\\file.txt\n'))),Object(o.mdx)(c.a,{value:"windowsxp",mdxType:"TabItem"},Object(o.mdx)("h3",{id:"windows-xp"},"Windows XP"),Object(o.mdx)("p",null,"This batch file creates a VBScript file, ",Object(o.mdx)("strong",{parentName:"p"},"dl.vbs"),", which will perform the download, and then runs it:"),Object(o.mdx)("pre",null,Object(o.mdx)("code",Object(r.default)({parentName:"pre"},{className:"language-js"}),'@echo off\n\necho strFileURL="http://mywebsite.com/file.txt" > C:\\dl.vbs\necho strHDLocation = "C:\\file.csv" >> C:\\dl.vbs\necho Set objXMLHTTP = CreateObject("MSXML2.XMLHTTP") >> C:\\dl.vbs\necho objXMLHTTP.open "GET", strFileURL, false >> C:\\dl.vbs\necho objXMLHTTP.send() >> C:\\dl.vbs\necho If objXMLHTTP.Status = 200 Then >> C:\\dl.vbs\necho Set objADOStream = CreateObject("ADODB.Stream") >> C:\\dl.vbs\necho objADOStream.Open >> C:\\dl.vbs\necho objADOStream.Type = 1 \'adTypeBinary >> C:\\dl.vbs\necho objADOStream.Write objXMLHTTP.ResponseBody >> C:\\dl.vbs\necho objADOStream.Position = 0 \'Set the stream position to the start >> C:\\dl.vbs\necho Set objFSO = Createobject("Scripting.FileSystemObject") >> C:\\dl.vbs\necho If objFSO.Fileexists(strHDLocation) Then objFSO.DeleteFile strHDLocation >> C:\\dl.vbs\necho Set objFSO = Nothing >> C:\\dl.vbs\necho objADOStream.SaveToFile strHDLocation >> C:\\dl.vbs\necho objADOStream.Close >> C:\\dl.vbs\necho Set objADOStream = Nothing >> C:\\dl.vbs\necho End if >> C:\\dl.vbs\necho Set objXMLHTTP = Nothing >> C:\\dl.vbs\n\ncscript.exe C:\\dl.vbs\n'))),Object(o.mdx)(c.a,{value:"linux",mdxType:"TabItem"},Object(o.mdx)("h3",{id:"linux"},"Linux"),Object(o.mdx)("p",null,"This shell script downloads ",Object(o.mdx)("strong",{parentName:"p"},"file.txt")," at ",Object(o.mdx)("strong",{parentName:"p"},"mywebsite.com")," to the ",Object(o.mdx)("strong",{parentName:"p"},"/tmp")," directory."),Object(o.mdx)("pre",null,Object(o.mdx)("code",Object(r.default)({parentName:"pre"},{className:"language-js"}),"#!/bin/bash\nwget -O /tmp/file.txt http://mywebsite.com/file.txt\n")))),Object(o.mdx)("h2",{id:"set-prerun-capability"},"Set Prerun Capability"),Object(o.mdx)("p",null,"After you've created the download script, use the prerun capability in your test script to point to its location."),Object(o.mdx)("p",null,"If your script is in a publicly accessible location, you need to add the URL to the prerun capability."),Object(o.mdx)("pre",null,Object(o.mdx)("code",Object(r.default)({parentName:"pre"},{className:"language-js"}),"capabilities['prerun'] = \"http://location.of/curl.sh\"\n")))}p.isMDXComponent=!0},222:function(e,t,n){"use strict";n.r(t),n.d(t,"MDXContext",(function(){return u})),n.d(t,"MDXProvider",(function(){return b})),n.d(t,"mdx",(function(){return v})),n.d(t,"useMDXComponents",(function(){return f})),n.d(t,"withMDXComponents",(function(){return d}));var r=n(0),a=n.n(r);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=a.a.createContext({}),d=function(e){return function(t){var n=f(t.components);return a.a.createElement(e,i({},t,{components:n}))}},f=function(e){var t=a.a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},b=function(e){var t=f(e.components);return a.a.createElement(u.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},m=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),u=f(n),d=r,b=u["".concat(i,".").concat(d)]||u[d]||p[d]||o;return n?a.a.createElement(b,s(s({ref:t},l),{},{components:n})):a.a.createElement(b,s({ref:t},l))}));function v(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var c=2;c<o;c++)i[c]=n[c];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},223:function(e,t,n){"use strict";var r=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.useBaseUrlUtils=i,t.default=function(e,t){void 0===t&&(t={});return(0,i().withBaseUrl)(e,t)};var a=r(n(29)),o=n(224);function i(){var e=(0,a.default)().siteConfig,t=(e=void 0===e?{}:e).baseUrl,n=void 0===t?"/":t,r=e.url;return{withBaseUrl:function(e,t){return function(e,t,n,r){var a=void 0===r?{}:r,i=a.forcePrependBaseUrl,l=void 0!==i&&i,s=a.absolute,c=void 0!==s&&s;if(!n)return n;if(n.startsWith("#"))return n;if((0,o.hasProtocol)(n))return n;if(l)return t+n;var u=n.startsWith(t)?n:t+n.replace(/^\//,"");return c?e+u:u}(r,n,e,t)}}}},224:function(e,t,n){"use strict";function r(e){return!0===/^(\w*:|\/\/)/.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.hasProtocol=r,t.default=function(e){return void 0!==e&&!r(e)}},225:function(e,t,n){"use strict";function r(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}n.r(t),t.default=function(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}},226:function(e,t,n){"use strict";var r=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(0),o=r(n(227));var i=function(){var e=(0,a.useContext)(o.default);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e};t.default=i},227:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,n(0).createContext)(void 0);t.default=r},228:function(e,t,n){"use strict";var r=n(4),a=n(30);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(0)),i=r(n(226)),l=r(n(225)),s=r(n(198)),c=37,u=39;var d=function(e){var t=e.lazy,n=e.block,r=e.defaultValue,a=e.values,d=e.groupId,f=e.className,b=(0,i.default)(),p=b.tabGroupChoices,m=b.setTabGroupChoices,v=(0,o.useState)(r),h=v[0],O=v[1],j=o.Children.toArray(e.children);if(null!=d){var y=p[d];null!=y&&y!==h&&a.some((function(e){return e.value===y}))&&O(y)}var g=function(e){O(e),null!=d&&m(d,e)},x=[];return o.default.createElement("div",null,o.default.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.default)("tabs",{"tabs--block":n},f)},a.map((function(e){var t=e.value,n=e.label;return o.default.createElement("li",{role:"tab",tabIndex:0,"aria-selected":h===t,className:(0,l.default)("tabs__item",s.default.tabItem,{"tabs__item--active":h===t}),key:t,ref:function(e){return x.push(e)},onKeyDown:function(e){!function(e,t,n){switch(n.keyCode){case u:!function(e,t){var n=e.indexOf(t)+1;e[n]?e[n].focus():e[0].focus()}(e,t);break;case c:!function(e,t){var n=e.indexOf(t)-1;e[n]?e[n].focus():e[e.length-1].focus()}(e,t)}}(x,e.target,e)},onFocus:function(){return g(t)},onClick:function(){g(t)}},n)}))),t?(0,o.cloneElement)(j.filter((function(e){return e.props.value===h}))[0],{className:"margin-vert--md"}):o.default.createElement("div",{className:"margin-vert--md"},j.map((function(e,t){return(0,o.cloneElement)(e,{key:t,hidden:e.props.value!==h})}))))};t.default=d},229:function(e,t,n){"use strict";var r=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(3)),o=r(n(0));var i=function(e){var t=e.children,n=e.hidden,r=e.className;return o.default.createElement("div",(0,a.default)({role:"tabpanel"},{hidden:n,className:r}),t)};t.default=i}}]);